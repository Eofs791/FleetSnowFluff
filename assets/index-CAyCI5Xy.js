import{init as I}from"https://unpkg.com/@waline/client@v3/dist/waline.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();const S=[{id:"post_016",category:"TEXT",pub_ts:"1768834918",title:"",text:`拉海洛今晚的夜景很漂亮呢。
晚安！`,pics:[],video:""},{id:"post_015",category:"REEL",pub_ts:"1768833736",title:"新歌创作中！",text:"虽然想熬夜写完，但明天还有模拟驾驶课……只好再延期几天了。希望到时候大家能喜欢完整的这首“奇迹”(๑•̀ᴗ- )✧✩°｡⋆",pics:[{url:"./images/posts/post_015.jpg"}],video:"./videos/1768833736.mp4"},{id:"post_014",category:"POST",pub_ts:"1768557708",title:"",text:"今天写歌的时候，不自觉地跳起来了！果然动一动更有助于得到灵感。",pics:[{url:"./images/posts/1768557708.gif"}],video:""},{id:"post_013",category:"POST",pub_ts:"1768199520",title:"",text:"快上课啦~希望这次飞行模拟测试能拿个高分，把萨迦教授在虚质学上扣的分给填上＞＜",pics:[{url:"./images/posts/1768199520.png"}],video:""},{id:"post_012",category:"REEL",pub_ts:"1767862811",title:"把最近的事情写成了歌，虽然只有一小段，但感觉还不错~",text:"",pics:[{url:"./images/posts/post_012.jpg"}],video:"./videos/1767862811.mp4"},{id:"post_011",category:"TEXT",pub_ts:"1767787260",title:"",text:`提问，想知道大家最近听什么歌……
灵感爆发，想写新歌！`,pics:[],video:""},{id:"post_010",category:"POST",pub_ts:"1767333660",title:"",text:`这些是我的收藏品，陪我度过了许多美好的时光~
图一是两款我喜欢的游戏卡带，《太空战士卡佳Ⅵ》和《双星奇旅》
图二是我保养良好的游戏机
最后——大合照！`,pics:[{url:"./images/posts/1767333660-1.png"},{url:"./images/posts/1767333660-2.png"},{url:"./images/posts/1767333660-3.png"}],video:""},{id:"post_009",category:"REEL",pub_ts:"1766484456",title:"微风吹拂，花瓣飘落，有种似曾相识的感觉……",text:"——突然来了点灵感，大家觉得这个旋律怎么样呢？",pics:[{url:"./images/posts/post_009.jpg"}],video:"./videos/1766484456.mp4"},{id:"post_008",category:"POST",pub_ts:"1766115534",title:"",text:"在学校集市上带回来的花束，给它搭配了猫猫装饰，是不是特别好看呀？",pics:[{url:"./images/posts/1766115534.png"}],video:""},{id:"post_007",category:"POST",pub_ts:"1734346860",title:"",text:"画了我喜欢的故事情节，看！英雄正拯救世界~",pics:[{url:"./images/posts/1734346860.jpg"}],video:""},{id:"post_006",category:"POST",pub_ts:"1733909460",title:"",text:"庆典纪念，大家玩的很开心哦！",pics:[{url:"./images/posts/1733909460.jpg"}],video:""},{id:"post_005",category:"POST",pub_ts:"1733472600",title:"",text:"还是习惯性地折了这么多啊……一会出去试飞下好啦。",pics:[{url:"./images/posts/1733472600.png"}],video:""},{id:"post_004",category:"POST",pub_ts:"1733285100",title:"",text:"没想到创新饮品比赛拿奖啦，给获奖作品拍一张纪念照。亲测，非常提神~",pics:[{url:"./images/posts/1733285100.png"}],video:""},{id:"post_003",category:"TEXT",pub_ts:"1733047320",title:"",text:`哎~听说过几天的考试难度又提升了，还没有复习完呢[委屈]……晚上还有一节实战课，啊啊啊还有一篇报告没写完！

说完了，准备熬夜苦读了，祝我考试加油吧！`,pics:[],video:""},{id:"post_002",category:"POST",pub_ts:"1732579380",title:"",text:"天天都是早课啊……",pics:[{url:"./images/posts/1732579380.png"}],video:""},{id:"post_001",category:"TEXT",pub_ts:"1732341600",title:"",text:`随便发发~
头像没想好用什么……等想好了再换吧！`,pics:[],video:""}],$=[{id:"work_001",category:"ALBUM",title:"Deadline Disco",type:["SINGLE"],timestamp:1767235200,cover:"./images/works/work_001.jpg",desc:"",tracks:[{id:"song_001",title:"Deadline Disco",duration:"02:37"},{id:"song_002",title:"Deadline Disco (Instrumental)",duration:"02:37"}],video:[]},{id:"work_002",category:"PV",title:"靛青宇宙",type:["EP"],timestamp:1768622432,cover:"./images/works/work_002.jpg",desc:"思绪划过流星的刹那，光芒依旧璀璨闪耀。",tracks:[],video:"./videos/IndigoUniverse.mp4"},{id:"work_003",category:"PV",title:"碎花",type:["EP"],timestamp:1768644004,cover:"./images/works/work_003.jpg",desc:"",tracks:[],video:"./videos/FallenPetals.mp4"},{id:"work_004",category:"PV",title:"先约电台EP3.1——《纸飞机》",type:["EP"],timestamp:1768707003,cover:"./images/works/work_004.jpg",desc:"",tracks:[],video:"./videos/PaperPlane.mp4"},{id:"work_005",category:"ALBUM",title:"飞行雪绒",type:["EP"],timestamp:1768707003,cover:"./images/works/work_005.jpg",desc:`先约电台EP3.1——爱弥斯《纸飞机》与同名 EP 专辑《飞行雪绒》

《鸣潮》先约电台EP3.1——爱弥斯《纸飞机》
纵使终将飞向坠落的命运，仍用那星炬的火光，照亮宇宙。

飞行雪绒EP——《靛青宇宙》
思绪划过流星的刹那，光芒依旧璀璨闪耀。飞行雪绒EP——《碎花》

滴答，花瓣飘落——忽然记起那些如花朵般绽放的时刻。`,tracks:[{id:"song_003",title:"纸飞机",duration:"03:53"},{id:"song_004",title:"靛青宇宙",duration:"02:27"},{id:"song_005",title:"碎花",duration:"02:32"},{id:"song_006",title:"纸飞机 (Instrumental)",duration:"03:53"},{id:"song_007",title:"靛青宇宙 (Instrumental)",duration:"02:27"},{id:"song_008",title:"碎花 (Instrumental)",duration:"02:32"}],video:[{id:"EP1",category:"PV",title:"飞行雪绒EP——《靛青宇宙》",timestamp:1768622432,cover:"./images/works/work_002.jpg",desc:"思绪划过流星的刹那，光芒依旧璀璨闪耀。",video:"./videos/IndigoUniverse.mp4"},{id:"EP2",category:"PV",title:"飞行雪绒EP——《碎花》",timestamp:1768644004,cover:"./images/works/work_003.jpg",desc:"滴答，花瓣飘落——忽然记起那些如花朵般绽放的时刻。",video:"./videos/FallenPetals.mp4"},{id:"EP3",category:"PV",title:"先约电台EP3.1——爱弥斯《纸飞机》",timestamp:1768707003,cover:"./images/works/work_004.jpg",desc:"纵使终将飞向坠落的命运，仍用那星炬的火光，照亮宇宙。",video:"./videos/PaperPlane.mp4"}]},{id:"work_006",category:"ALBUM",title:"星炬不熄",type:["STUDIO","COMPILATION"],timestamp:1764902400,cover:"./images/works/work_006.jpg",desc:`先约电台——星炬毕业纪念曲《星炬不熄》
毕业快乐。向着远方……飞吧。`,tracks:[{id:"song_009",title:"星炬不熄",duration:"03:52"},{id:"song_010",title:"絶やさぬスタートーチ",duration:"03:52"},{id:"song_011",title:"Unwavering Startorch",duration:"03:52"},{id:"song_012",title:"스타토치의 별빛 약속",duration:"03:52"},{id:"song_013",title:"星炬不熄（伴奏）",duration:"03:52"}],video:[{id:"LIVE",category:"LIVE",title:"祝福",timestamp:1764902400,cover:"./images/works/UnwaveringStartorch.jpg",desc:"毕业快乐！",video:"./videos/UnwaveringStartorch.mp4"}]},{id:"work_007",category:"ALBUM",title:"星轨消逝之夜",type:["STUDIO"],timestamp:1765075200,cover:"./images/works/work_007.jpg",desc:"本专辑与他人合作，更多曲目请参考官方发行记录。",tracks:[{id:"song_014",title:"小小奇迹",duration:"04:22"},{id:"song_015",title:"小小奇迹 (Instrumental)",duration:"04:22"}],video:[]},{id:"work_008",category:"ALBUM",title:"星轨消逝之夜",type:["STUDIO","COMPILATION"],timestamp:1765248e3,cover:"./images/works/work_008.jpg",desc:`《鸣潮》——爱弥斯三部曲《星轨消逝之夜》

星轨消逝之夜一 ——《小小奇迹》
星轨消逝之夜二 ——《远航星的告别》
星轨消逝之夜三 ——《那颗星梦见的春日》

本专辑与他人合作，更多曲目请参考官方发行记录。`,tracks:[{id:"song_016",title:"未完成的奇迹",duration:"00:40"},{id:"song_017",title:"小小奇迹（尚未发布(๑•̀ᴗ- )✧✩°｡⋆！）",duration:"02:22"},{id:"song_018",title:"于电子星海轻歌",duration:"00:22"},{id:"song_019",title:"小小奇迹（尚未发布(๑•̀ᴗ- )✧✩°｡⋆！）(Instrumental)",duration:"02:22"}],video:[]},{id:"work_009",category:"ALBUM",title:"飞行雪绒的练习时间",type:["STUDIO"],timestamp:1770463800,cover:"./images/works/work_009.jpg",desc:`先约电台特辑——《飞行雪绒的练习时间》
随着时间变化，这些歌也不再完全属于我，而是变成了一段维系人们缘分的旋律。`,tracks:[{id:"song_020",title:"飞行雪绒的练习时间",duration:"03:47"}],video:[{id:"POST",category:"REEL",title:"飞行雪绒的回忆 ｜ 练习时间",timestamp:1770463800,cover:"./images/posts/1770463800.jpg",desc:"随着时间变化，这些歌也不再完全属于我，而是变成了一段维系人们缘分的旋律。",video:"./videos/UnwaveringStartorch.mp4"}]}];async function x(){const t=document.getElementById("loader"),e=document.getElementById("mask");t.style.display="flex",t.style.opacity="1",e.offsetWidth,e.style.transition="width 2s linear",e.style.width="100%",await new Promise(i=>{e.addEventListener("transitionend",i,{once:!0})}),t.style.transition="opacity 0.5s ease",t.style.opacity="0",setTimeout(()=>{t.style.display="none",e.style.width="0"},500)}let f=!1,w,l;function h(){const e=new URLSearchParams(window.location.search).get("page")||"";let i=l.findIndex(n=>n.path===e);return i===-1?0:i}async function g(t,e=!1){const i=l[t];l.forEach((n,s)=>{const o=n.element.querySelector(".scroll-area");o&&(o.scrollTop=0);const a=s===t;if(n.element.classList.toggle("active",a),n.element.classList.toggle("waiting",a),a){const r=n.path,c=r?`?page=${r}`:location.pathname;history.pushState(null,"",c)}}),e&&await x(),i?.element&&i.element.classList.remove("waiting")}function B(t){if(f||document.getElementById("desktop").dataset.modalCount>0)return;const e=h()+t;e<0||e>=l.length||(g(e),f=!0,setTimeout(()=>{f=!1},700))}function M(t){for(;t&&t.tagName.toLowerCase()!=="section";){if(t.classList.contains("scroll-area")||t.matches("aside"))return!1;t=t.parentElement}return!0}function U(){w=document.querySelectorAll("section"),l=Array.from(w).map(e=>{const i=e.id==="info"?"":e.id;return{id:e.id,path:i,element:e}}),g(h(),!0),window.addEventListener("wheel",e=>{M(e.target)&&B(e.deltaY<0?-1:1)}),window.addEventListener("popstate",()=>{g(h(),!0)}),document.querySelectorAll(".section-btn").forEach((e,i)=>{e.addEventListener("click",n=>{n.preventDefault(),g(i)})})}let u=0;function v(t){const e=document.createElement("div");e.className="modal",e.innerHTML=`
        <div class="modal-bar">
            <h1 class="modal-title" id="modal-title">${t.category}</h1>
            <button class="modal-btn"><i class="ri-close-line"></i></button>
        </div>
        <div class="modal-main" id="modal-main"></div>
    `,u++;const i=document.getElementById("desktop");return i.appendChild(e),i.dataset.modalCount=u,e.querySelector(".modal-btn").onclick=()=>{e.remove(),u--,i.dataset.modalCount=u},e.querySelector(".modal-main")}function j(t){const e=document.getElementById("post-list");e.innerHTML="",t.forEach((i,n)=>{const s=document.createElement("div");s.className="post-item",s.style.setProperty("--i",n);const o=i.category!=="TEXT"?`<div class="post-images img-count-${i.pics.length}">
                    ${i.pics.map(a=>`<img src="${a.url}" alt="image">`).join("")}
               </div>`:"";s.innerHTML=`
            <a href="javascript:void(0)" class="card post-card">
                <p class="post-tag">${i.pub_ts} // ${i.category}<p>
                <h4 class="post-title">${i.title||""}</h4>
                <p class="post-text">${i.text||""}</p>
            </a>
            ${o}
            `,s.addEventListener("click",()=>{O(i,v(i))}),e.appendChild(s)})}function O(t,e){let i;switch(t.category){case"TEXT":i="";break;case"POST":i=`
                <div class="media post-image">
                    ${t.pics.map(n=>`<img src="${n.url}" alt="image">`).join("")}
                </div>
            `;break;case"REEL":i=`
                <div class="media post-vedio">
                    <video src="${t.video}" controls></video>
                </div>
            `;break}e.innerHTML=`
        <h1>${t.title||""}</h1>
        <p>${t.pub_ts} // ${t.category}</p>
        ${i}
        <p>${t.text||""}</p>
    `}function D(t){!t||t.length===0||(t.sort((e,i)=>{const n=Number(e.id.split("_")[1]);return Number(i.id.split("_")[1])-n}),j(t))}const p=[{id:"song_001",title:"Deadline Disco",src:"./music/DeadlineDisco.mp3",duration:"02:37"},{id:"song_002",title:"Deadline Disco (Instrumental)",src:"./music/DeadlineDisco_ins.mp3",duration:"02:37"},{id:"song_003",title:"纸飞机",src:"./music/PaperPlane.mp3",duration:"03:53"},{id:"song_004",title:"靛青宇宙",src:"./music/IndigoUniverse.mp3",duration:"02:27"},{id:"song_005",title:"碎花",src:"./music/FallenPetals.mp3",duration:"02:32"},{id:"song_006",title:"纸飞机 (Instrumental)",src:"./music/PaperPlane_ins.mp3",duration:"03:53"},{id:"song_007",title:"靛青宇宙 (Instrumental)",src:"./music/IndigoUniverse_ins.mp3",duration:"02:27"},{id:"song_008",title:"碎花 (Instrumental)",src:"./music/FallenPetals_ins.mp3",duration:"02:32"},{id:"song_009",title:"星炬不熄",src:"./music/UnwaveringStartorch_zh.mp3",duration:"03:52"},{id:"song_010",title:"絶やさぬスタートーチ",src:"./music/UnwaveringStartorch_jp.mp3",duration:"03:52"},{id:"song_011",title:"Unwavering Startorch",src:"./music/UnwaveringStartorch_en.mp3",duration:"03:52"},{id:"song_012",title:"스타토치의 별빛 약속",src:"./music/UnwaveringStartorch_ko.mp3",duration:"03:52"},{id:"song_013",title:"星炬不熄（伴奏）",src:"./music/UnwaveringStartorch_ins.mp3",duration:"03:52"},{id:"song_014",title:"小小奇迹",src:"./music/LittleMiracle.mp3",duration:"04:22"},{id:"song_015",title:"小小奇迹 (Instrumental)",src:"./music/LittleMiracle_ins.mp3",duration:"04:22"},{id:"song_016",title:"未完成的奇迹",src:"./music/UnfinishedMiracle.mp3",duration:"00:40"},{id:"song_017",title:"小小奇迹（尚未发布(๑•̀ᴗ- )✧✩°｡⋆！）",src:"./music/LittleMiracle_demo.mp3",duration:"02:22"},{id:"song_018",title:"于电子星海轻歌",src:"./music/SoftSongElectronicSea.mp3",duration:"00:22"},{id:"song_019",title:"小小奇迹（尚未发布(๑•̀ᴗ- )✧✩°｡⋆！）(Instrumental)",src:"./music/LittleMiracle_demo_ins.mp3",duration:"02:22"},{id:"song_020",title:"飞行雪绒的练习时间",src:"./music/PracticeTime.mp3",duration:"03:47"}];let d=0,k=!1,E=!1;const m=new Audio;function N(){const t=document.getElementById("playlist");p.forEach((e,i)=>{const n=document.createElement("a");n.className="tracklist-item",n.style.setProperty("--i",i),n.innerHTML=`
            <span class="tracklist-title">${e.title}</span>
            <span class="tracklist-duration">${e.duration}</span>
        `,n.addEventListener("click",()=>{T(e.id)}),t.appendChild(n)})}function y(t){const e=p[t];m.src=e.src,m.load(),document.getElementById("title-text").innerText=e.title}function _(){m.play().then(()=>{k=!0}).catch(t=>{console.error("播放失败:",t)})}function A(){m.pause(),k=!1}function C(){d--,d<0&&(d=p.length-1),y(d),_()}function P(){d++,d>p.length-1&&(d=0),y(d),_()}function T(t){d=p.findIndex(e=>e.id===t),y(d),_()}function H(){y(d),N();const t=document.getElementById("play-btn"),e=document.getElementById("pre-btn"),i=document.getElementById("next-btn"),n=document.getElementById("playlist-btn"),s=document.getElementById("playlist");t.addEventListener("click",()=>{k?A():_()}),e.addEventListener("click",C),i.addEventListener("click",P),n.addEventListener("click",()=>{E=!E,s.classList.toggle("active"),E?s.classList.remove("inactive"):(s.classList.add("inactive"),setTimeout(()=>{s.scrollTop=0},600))}),m.addEventListener("ended",P)}function q(t){const e=document.getElementById("work-list");e.innerHTML="",t.forEach((i,n)=>{const s=document.createElement("div");s.className="work-item",s.style.setProperty("--i",n);const o=i.type.map(a=>`<span class="type">${a} </span>`).join("");s.innerHTML=`
                    <div class="work-cover">
                        <img src="${i.cover}" alt="cover">
                    </div>
                    <div class="work-meta">
                        <div class="work-tag">${i.timestamp} // ${o}</div>
                        <h3 class="post-title">${i.title}</h3>
                    </div>
            `,s.addEventListener("click",()=>{i.category==="ALBUM"?R(i,v(i)):b(i,v(i))}),e.appendChild(s)})}function R(t,e){const i=document.createElement("div");i.className="detail-hero";const n=t.type.map(r=>`<span class="type">${r} </span>`).join("");i.innerHTML=`
        <img src="${t.cover}" class="hero-cover">
        <div class="hero-info">
            <h1 class="meta-title">${t.title}</h1>
            <p class="meta-tags">${n}</p>
            <blockquote class="meta-desc">${t.desc}</blockquote>
            <div class="meta-button"></div>
        </div>
    `;const s=i.querySelector(".meta-button");t.video.forEach(r=>{const c=document.createElement("button");c.className="video-btn",c.textContent=`${r.id}`,c.onclick=()=>{b(r,v(r))},s.appendChild(c)});const o=document.createElement("div");o.className="detail-track",o.innerHTML="<hr>";let a=0;t.tracks.forEach(r=>{const c=document.createElement("a");c.className="track-item";const L=++a;c.innerHTML=`
            <button class="play-btn" id="${L}">${L}</button>
            <span class="track-title">${r.title}</span>
            <span class="track-duration">${r.duration}</span>
        `,c.addEventListener("click",()=>{T(r.id)}),o.appendChild(c)}),e.append(i,o)}function b(t,e){e.innerHTML=`
            <h1 class="meta-title">${t.title}</h1>
            <blockquote class="meta-desc">${t.desc}</blockquote>
            <div class="media"><video controls poster="${t.cover}" src="${t.video}"></video></div>
    `}function V(t){!t||t.length===0||(t.sort((e,i)=>{const n=Number(e.id.split("_")[1]);return Number(i.id.split("_")[1])-n}),q(t))}function X(){const t=document.querySelectorAll(".aside-btn"),e=document.getElementById("sidebar");t.forEach(i=>{i.addEventListener("click",()=>{e.classList.toggle("active")})})}document.addEventListener("DOMContentLoaded",()=>{V($),D(S),I({el:"#waline",serverURL:"https://waline-blush-ten.vercel.app/",emoji:["./snowEmoji/"]}),U(),H(),X()});
